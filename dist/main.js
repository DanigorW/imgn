(()=>{function e(e,n,t,r,a,o,c){try{var s=e[o](c),l=s.value}catch(e){return void t(e)}s.done?n(l):Promise.resolve(l).then(r,a)}var n="https://www.reddit.com/r/askreddit.json?count=25",t=document.querySelector(".loader"),r=document.querySelector(".error"),a=document.querySelector(".next-page"),o=document.querySelector(".previous-page");o.style.display="none",r.style.display="none";var c=0,s=[],l=null,i=null,u=function(){var n,o=(n=regeneratorRuntime.mark((function e(n){var o,c,u,p,y,f,v,h,m,k,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n);case 3:return o=e.sent,e.next=6,o.json();case 6:for(p in c=e.sent,l=c.data.after,i=c.data.before,u=c.data.children)y=u[p].data,f=y.title,v=y.url,h=y.author,m=y.id,k=y.created,w=y.ups,s.push({title:f,url:v,author:h,id:m,created:k,ups:w});d(s),e.next=20;break;case 14:throw e.prev=14,e.t0=e.catch(0),a.style.display="none",r.style.display="block",t.style.display="none",new Error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,14]])})),function(){var t=this,r=arguments;return new Promise((function(a,o){var c=n.apply(t,r);function s(n){e(c,a,o,s,l,"next",n)}function l(n){e(c,a,o,s,l,"throw",n)}s(void 0)}))});return function(e){return o.apply(this,arguments)}}();a.addEventListener("click",(function(){a.innerHTML="Next page (".concat(c+1,") "),s=[],p(".post"),t.style.display="block",u(n+"&after=".concat(l)),d(s),++c>0&&(o.style.display="block")})),o.addEventListener("click",(function(){a.innerHTML="Next page (".concat(c-1,") "),s=[],p(".post"),t.style.display="block",u(n+"&before=".concat(i)),d(s),0==--c&&(a.innerHTML="Next page",o.style.display="none")}));var d=function(e){e.forEach((function(e){var n,r=document.createElement("div");r.innerHTML='<div class="post">\n        <h3 class="post-header">\n           '.concat(e.title,'\n        </h3>\n        \n        <span class="author">Author: ').concat(e.author,'</span>\n        \n        <span class="voted">Voted: ').concat(e.ups,'</span>\n        \n        <div class="bottom-link">\n        <a class="link" href=').concat(e.url,' target="_blank">See full article</a>\n        <span>Date: ').concat((n=e.created,new Date(1e3*n).toISOString().substring(0,10).replace(/-/g,"/")),"</span>\n        </div>\n      \n        </div>"),t.style.display="none",document.querySelector(".posts-container").appendChild(r)}))},p=function(e){document.querySelectorAll(e).forEach((function(e){e.parentElement.removeChild(e)}))};window.addEventListener("load",(function(){"complete"===document.readyState&&u(n)}))})();